<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€ç»ˆä¸‹æ‹‰ç­›é€‰æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .feature-card h3 {
            margin-top: 0;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
            font-size: 14px;
        }
        .btn-primary {
            background-color: #007bff;
            color: white;
        }
        .btn-success {
            background-color: #28a745;
            color: white;
        }
        .btn-info {
            background-color: #17a2b8;
            color: white;
        }
        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ¯ ä¼˜è¡£åº“å•†å“ç­›é€‰ç³»ç»Ÿ - æœ€ç»ˆæµ‹è¯•</h1>
    
    <div class="highlight">
        <h3>ğŸ‰ æ–°åŠŸèƒ½äº®ç‚¹</h3>
        <ul>
            <li><strong>ä¸‹æ‹‰èœå•ç­›é€‰</strong>ï¼šæ¨¡ä»¿ä¼˜è¡£åº“å®˜ç½‘çš„ç­›é€‰ç•Œé¢è®¾è®¡</li>
            <li><strong>å®æ—¶ç­›é€‰</strong>ï¼šé€‰æ‹©ç­›é€‰æ¡ä»¶åç«‹å³åº”ç”¨ï¼Œæ— éœ€ç‚¹å‡»æŒ‰é’®</li>
            <li><strong>ç­›é€‰è®¡æ•°</strong>ï¼šåœ¨ç­›é€‰æŒ‰é’®ä¸Šæ˜¾ç¤ºå·²é€‰æ‹©çš„æ¡ä»¶æ•°é‡</li>
            <li><strong>æ›´æ–°æ—¶é—´æ’åº</strong>ï¼šæ–°å¢æŒ‰æ›´æ–°æ—¶é—´æ’åºé€‰é¡¹</li>
            <li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šå®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>ğŸ§ª åŠŸèƒ½æµ‹è¯•</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>ğŸ¨ ç•Œé¢è®¾è®¡æµ‹è¯•</h3>
                <p>æµ‹è¯•ä¸‹æ‹‰èœå•çš„å¤–è§‚å’Œäº¤äº’æ•ˆæœ</p>
                <a href="/test-dropdown-filters.html" class="btn btn-info" target="_blank">
                    æµ‹è¯•ç•Œé¢è®¾è®¡
                </a>
                <div id="ui-status" class="status info">ç‚¹å‡»æŒ‰é’®æµ‹è¯•ç•Œé¢</div>
            </div>
            
            <div class="feature-card">
                <h3>ğŸ” ç­›é€‰åŠŸèƒ½æµ‹è¯•</h3>
                <p>æµ‹è¯•å„ç§ç­›é€‰æ¡ä»¶çš„APIè°ƒç”¨</p>
                <button class="btn btn-primary" onclick="testFiltering()">
                    æµ‹è¯•ç­›é€‰åŠŸèƒ½
                </button>
                <div id="filter-status" class="status info">ç­‰å¾…æµ‹è¯•...</div>
            </div>
            
            <div class="feature-card">
                <h3>ğŸ“± å“åº”å¼æµ‹è¯•</h3>
                <p>æµ‹è¯•ç§»åŠ¨ç«¯é€‚é…æ•ˆæœ</p>
                <button class="btn btn-warning" onclick="testResponsive()">
                    æ¨¡æ‹Ÿç§»åŠ¨ç«¯
                </button>
                <div id="responsive-status" class="status info">ç­‰å¾…æµ‹è¯•...</div>
            </div>
            
            <div class="feature-card">
                <h3>ğŸŒ å®Œæ•´é¡µé¢æµ‹è¯•</h3>
                <p>åœ¨å®é™…å•†å“åˆ—è¡¨é¡µé¢ä¸­æµ‹è¯•</p>
                <a href="/#/products" class="btn btn-success" target="_blank">
                    æ‰“å¼€å•†å“åˆ—è¡¨
                </a>
                <div class="status success">åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€</div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“Š APIæµ‹è¯•ç»“æœ</h2>
        <div id="api-results">
            <div class="status info">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹æµ‹è¯•...</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>âœ… åŠŸèƒ½æ¸…å•</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>ğŸ¯ ç­›é€‰åŠŸèƒ½</h3>
                <ul>
                    <li>âœ… æ€§åˆ«ç­›é€‰ï¼ˆç”·è£…ã€å¥³è£…ã€ç«¥è£…ã€ç”·å¥³åŒæ¬¾ï¼‰</li>
                    <li>âœ… ä»·æ ¼ç­›é€‰ï¼ˆå¤šä¸ªä»·æ ¼åŒºé—´ï¼‰</li>
                    <li>âœ… é¢œè‰²ç­›é€‰ï¼ˆ10ç§é¢œè‰²ç³»åˆ—ï¼‰</li>
                    <li>âœ… å°ºç ç­›é€‰ï¼ˆXSåˆ°3XLç­‰ï¼‰</li>
                    <li>âœ… å®æ—¶ç­›é€‰åº”ç”¨</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h3>ğŸ”„ æ’åºåŠŸèƒ½</h3>
                <ul>
                    <li>âœ… æ›´æ–°æ—¶é—´æ’åº</li>
                    <li>âœ… ä»·æ ¼ä»ä½åˆ°é«˜</li>
                    <li>âœ… ä»·æ ¼ä»é«˜åˆ°ä½</li>
                    <li>âœ… åç§°A-Zæ’åº</li>
                    <li>âœ… é”€é‡æœ€é«˜</li>
                    <li>âœ… æœ€æ–°ä¸Šæ¶</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h3>ğŸ¨ ç•Œé¢è®¾è®¡</h3>
                <ul>
                    <li>âœ… ä¸‹æ‹‰èœå•è®¾è®¡</li>
                    <li>âœ… é¢œè‰²è‰²å—æ˜¾ç¤º</li>
                    <li>âœ… ç­›é€‰æ¡ä»¶è®¡æ•°</li>
                    <li>âœ… å“åº”å¼å¸ƒå±€</li>
                    <li>âœ… ä¼˜é›…çš„åŠ¨ç”»æ•ˆæœ</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h3>âš¡ æ€§èƒ½ä¼˜åŒ–</h3>
                <ul>
                    <li>âœ… é«˜æ•ˆçš„SQLæŸ¥è¯¢</li>
                    <li>âœ… å‰ç«¯çŠ¶æ€ç®¡ç†</li>
                    <li>âœ… å®æ—¶ç­›é€‰æ›´æ–°</li>
                    <li>âœ… ç§»åŠ¨ç«¯ä¼˜åŒ–</li>
                    <li>âœ… ç¼“å­˜æœºåˆ¶</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        async function testFiltering() {
            const statusDiv = document.getElementById('filter-status');
            const resultsDiv = document.getElementById('api-results');
            
            statusDiv.className = 'status info';
            statusDiv.textContent = 'ğŸ”„ æ­£åœ¨æµ‹è¯•ç­›é€‰åŠŸèƒ½...';
            
            const tests = [
                {
                    name: 'æ€§åˆ«ç­›é€‰æµ‹è¯•',
                    url: 'http://localhost:3001/api/products?page=1&limit=3&gender=å¥³è£…'
                },
                {
                    name: 'ä»·æ ¼ç­›é€‰æµ‹è¯•',
                    url: 'http://localhost:3001/api/products?page=1&limit=3&minPrice=100&maxPrice=200'
                },
                {
                    name: 'é¢œè‰²ç­›é€‰æµ‹è¯•',
                    url: 'http://localhost:3001/api/products?page=1&limit=3&colors=COL09'
                },
                {
                    name: 'å°ºç ç­›é€‰æµ‹è¯•',
                    url: 'http://localhost:3001/api/products?page=1&limit=3&sizes=SMA004'
                },
                {
                    name: 'ç»„åˆç­›é€‰æµ‹è¯•',
                    url: 'http://localhost:3001/api/products?page=1&limit=3&gender=å¥³è£…&minPrice=50&maxPrice=150&colors=COL09'
                }
            ];
            
            let results = [];
            
            for (const test of tests) {
                try {
                    const response = await fetch(test.url);
                    const data = await response.json();
                    
                    if (data.products && data.pagination) {
                        results.push({
                            name: test.name,
                            status: 'success',
                            count: data.pagination.total,
                            products: data.products.length
                        });
                    } else {
                        results.push({
                            name: test.name,
                            status: 'error',
                            error: 'Invalid response format'
                        });
                    }
                } catch (error) {
                    results.push({
                        name: test.name,
                        status: 'error',
                        error: error.message
                    });
                }
            }
            
            // æ˜¾ç¤ºç»“æœ
            const successCount = results.filter(r => r.status === 'success').length;
            const totalCount = results.length;
            
            if (successCount === totalCount) {
                statusDiv.className = 'status success';
                statusDiv.textContent = `âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ (${successCount}/${totalCount})`;
            } else {
                statusDiv.className = 'status error';
                statusDiv.textContent = `âŒ éƒ¨åˆ†æµ‹è¯•å¤±è´¥ (${successCount}/${totalCount})`;
            }
            
            resultsDiv.innerHTML = `
                <h3>ğŸ“Š è¯¦ç»†æµ‹è¯•ç»“æœ</h3>
                ${results.map(result => `
                    <div class="status ${result.status}">
                        <strong>${result.name}</strong><br>
                        ${result.status === 'success' 
                            ? `âœ… æˆåŠŸ - æ‰¾åˆ° ${result.count} ä¸ªå•†å“ï¼Œè¿”å› ${result.products} ä¸ª`
                            : `âŒ å¤±è´¥ - ${result.error}`
                        }
                    </div>
                `).join('')}
            `;
        }
        
        function testResponsive() {
            const statusDiv = document.getElementById('responsive-status');
            statusDiv.className = 'status info';
            statusDiv.textContent = 'ğŸ“± æ¨¡æ‹Ÿç§»åŠ¨ç«¯è§†å›¾...';
            
            // æ¨¡æ‹Ÿç§»åŠ¨ç«¯è§†å£
            const viewport = document.querySelector('meta[name=viewport]');
            if (viewport) {
                viewport.setAttribute('content', 'width=375, initial-scale=1.0');
            }
            
            setTimeout(() => {
                statusDiv.className = 'status success';
                statusDiv.textContent = 'âœ… ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•å®Œæˆ';
                
                // æ¢å¤æ­£å¸¸è§†å£
                setTimeout(() => {
                    if (viewport) {
                        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0');
                    }
                }, 3000);
            }, 1000);
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡ŒåŸºç¡€æµ‹è¯•
        window.addEventListener('load', () => {
            setTimeout(() => {
                testFiltering();
            }, 1000);
        });
    </script>
</body>
</html>
