# 优衣库价格追踪器 - 原生前端

这是一个使用原生HTML、CSS和JavaScript构建的现代化前端界面，用于优衣库商品价格追踪系统。提供完整的商品监控、价格分析和数据可视化功能。

## 🌟 特性

- **🚀 原生技术栈**: 使用纯HTML、CSS、JavaScript，无框架依赖，轻量高效
- **🎨 现代化设计**: 采用现代设计系统，美观且用户友好的界面
- **📱 响应式布局**: 完美适配桌面、平板和移动设备
- **🔄 单页应用**: 客户端路由，流畅的页面切换体验
- **📊 实时数据**: 自动刷新仪表板数据和监控状态
- **🎭 优雅交互**: 平滑动画和过渡效果
- **🔍 智能筛选**: 多维度商品筛选和搜索功能
- **📈 数据可视化**: 价格趋势图表和统计分析
- **🌐 国际化**: 支持中文界面和本地化数据显示

## 📁 项目结构

```
frontend/
├── index.html              # 主页面
├── server.js               # 静态文件服务器
├── css/                    # 样式文件
│   ├── main.css            # 主样式文件
│   ├── components.css      # 组件样式
│   └── responsive.css      # 响应式样式
├── js/                     # JavaScript文件
│   ├── app.js              # 主应用逻辑
│   ├── router.js           # 客户端路由
│   ├── api.js              # API调用服务
│   ├── utils.js            # 工具函数库
│   └── components/         # 组件模块
│       ├── dashboard.js    # 仪表板组件
│       ├── products.js     # 商品列表组件
│       ├── product-detail.js # 商品详情组件
│       ├── alerts.js       # 价格警报组件
│       └── filters.js      # 筛选器组件
├── components/             # HTML组件模板
│   ├── dashboard.html      # 仪表板模板
│   ├── products.html       # 商品列表模板
│   ├── product-detail.html # 商品详情模板
│   └── alerts.html         # 警报页面模板
└── assets/                 # 静态资源
    └── images/             # 图片资源
```

## 🚀 快速开始

### 1. 启动后端服务

确保后端API服务器正在运行：

```bash
# 在项目根目录
node server.js
```

后端服务器将在 http://localhost:3001 启动。

### 2. 启动前端服务

```bash
# 进入前端目录
cd frontend

# 启动前端服务器
node server.js
```

前端服务器将在 http://localhost:8080 启动。

### 3. 访问应用

打开浏览器访问：
- 主应用: http://localhost:8080
- 测试页面: http://localhost:8080/test.html

## 📱 页面功能

### 🏠 仪表板 (/)
- **实时统计**: 显示商品总数、价格记录、警报统计
- **监控状态**: 显示爬虫运行状态、最后更新时间、运行持续时间
- **最新警报**: 实时显示最新的价格变化和库存变化
- **热门商品**: 按销量和关注度展示热门商品
- **今日统计**: 包括降价、涨价、库存变化等当日数据
- **自动刷新**: 定时更新数据，保持信息实时性

### 📦 商品列表 (/products)
- **智能搜索**: 支持商品名称、编号的实时模糊搜索
- **高级筛选**:
  - 性别筛选（男装/女装/男女同款）
  - 价格范围筛选
  - 颜色和尺码筛选（支持多选）
  - 筛选逻辑：尺码/颜色使用OR逻辑，其他使用AND逻辑
- **多种排序**: 价格、折扣百分比、更新时间、价格变化时间
- **商品卡片**: 显示商品图片、价格、折扣、更新时间等信息
- **分页浏览**: 支持大量商品的分页展示
- **响应式设计**: 适配各种设备尺寸

### 🔍 商品详情 (/products/:code)
- **商品信息**: 完整的商品详情，包括图片、价格、属性
- **颜色尺码选择**: 交互式颜色和尺码选择，支持库存状态显示
- **价格历史**: 详细的价格变化记录和趋势分析
- **官方链接**: 直接跳转到优衣库官方商品页面
- **本地化信息**: 翻译后的颜色和尺码信息

### 🚨 价格警报 (/alerts)
- **最新警报**: 显示24小时内的所有价格变化
- **降价商品**: 专门展示降价的商品，按折扣排序
- **补货提醒**: 显示重新有库存的商品
- **警报统计**: 实时统计各类警报数量
- **快速跳转**: 点击商品可直接跳转到详情页

## 🎨 设计系统

### 颜色主题
- **主色调**: 蓝色系 (#2196F3) - 现代、专业、可信赖
- **辅助色**: 绿色系 (#4CAF50) - 成功、增长、正面
- **状态色**:
  - 成功: #4CAF50 (绿色)
  - 错误: #F44336 (红色)
  - 警告: #FF9800 (橙色)
  - 信息: #2196F3 (蓝色)
- **中性色**: 灰色系用于文本和背景

### 响应式断点
- **手机**: < 768px
- **平板**: 768px - 1024px
- **桌面**: > 1024px
- **大屏**: > 1440px

### 组件库
- **按钮**: btn, btn-primary, btn-secondary, btn-outline
- **卡片**: card, card-header, card-body, card-footer
- **标签**: chip, badge, tag (支持各种状态色)
- **表单**: input, select, checkbox, radio
- **导航**: nav, breadcrumb, pagination
- **反馈**: alert, toast, modal, loading
- **数据展示**: table, list, grid, chart

## 🔧 技术特性

### 路由系统
- **Hash路由**: 基于Hash的客户端路由，兼容性好
- **参数路由**: 支持动态路由参数 (/products/:code)
- **导航管理**: 自动导航状态管理和面包屑
- **历史记录**: 支持浏览器前进后退

### API集成
- **统一服务**: 封装的API服务类，统一错误处理
- **重试机制**: 网络错误自动重试
- **超时控制**: 请求超时和取消机制
- **缓存策略**: 智能数据缓存，减少重复请求

### 状态管理
- **本地存储**: 用户偏好和设置持久化
- **页面状态**: 筛选条件、排序方式等状态保持
- **全局状态**: 应用级状态管理
- **数据同步**: 多页面数据同步更新

### 性能优化
- **防抖搜索**: 搜索输入防抖，减少API调用
- **虚拟滚动**: 大列表虚拟滚动优化
- **图片优化**: 懒加载和WebP格式支持
- **代码分割**: 按需加载页面组件
- **CSS优化**: 关键CSS内联，非关键CSS异步加载

## 🛠️ 开发指南

### 添加新页面
1. 在 `js/pages/` 创建页面类
2. 在 `css/pages.css` 添加样式
3. 在 `app.js` 注册路由

### 添加新组件
1. 在 `js/components.js` 添加组件函数
2. 在 `css/components.css` 添加样式
3. 导出到全局 `components` 对象

### 样式规范
- 使用CSS变量定义颜色和尺寸
- 遵循BEM命名规范
- 移动优先的响应式设计

## 🐛 故障排除

### 常见问题

1. **页面空白**
   - 检查浏览器控制台错误
   - 确认API服务器运行状态
   - 验证JavaScript文件加载

2. **API连接失败**
   - 确认后端服务器在3001端口运行
   - 检查CORS设置
   - 验证网络连接

3. **样式异常**
   - 清除浏览器缓存
   - 检查CSS文件加载顺序
   - 验证CSS变量定义

### 调试工具
- 使用 `test.html` 页面测试API连接
- 浏览器开发者工具
- 控制台日志输出

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！
